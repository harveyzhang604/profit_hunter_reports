<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>ğŸŒ ç‹¬ç«‹å¼€å‘æƒ…æŠ¥å¹¿åœº</title>
    <style>
        body { font-family: -apple-system, sans-serif; display: flex; height: 100vh; margin: 0; background: #0f172a; color: #f8fafc; }
        #sidebar { width: 350px; border-right: 2px solid #1e293b; overflow-y: auto; padding: 25px; background: #1e293b; }
        #viewer { flex-grow: 1; border: none; background: white; }
        .report-link { display: block; padding: 12px 15px; margin-bottom: 8px; background: #334155; color: #38bdf8; text-decoration: none; border-radius: 8px; font-size: 14px; border-left: 4px solid transparent; transition: all 0.2s; cursor: pointer; }
        .report-link:hover { background: #475569; border-left-color: #38bdf8; }
        h2 { color: #f1f5f9; font-size: 20px; margin-top: 0; }
        #loading { color: #94a3b8; font-size: 12px; }
    </style>
</head>
<body>
    <div id="sidebar">
        <h2>ğŸ”¥ å®æ—¶æƒ…æŠ¥æµ</h2>
        <div id="loading">æ­£åœ¨åŒæ­¥ GitHub ä»“åº“æ–‡ä»¶...</div>
        <div id="list"></div>
    </div>
    <iframe name="viewer" id="viewer" src=""></iframe>

    <script>
        const repo = 'harveyzhang604/profit_hunter_reports';
        async function loadReports() {
            try {
                const response = await fetch(`https://api.github.com/repos/${repo}/contents/`);
                const files = await response.json();
                const listDiv = document.getElementById('list');
                const loadingDiv = document.getElementById('loading');
                
                // ç­›é€‰å‡º html æ–‡ä»¶å¹¶æ’é™¤ index.html
                const htmlFiles = files
                    .filter(f => f.name.endsWith('.html') && f.name !== 'index.html')
                    .sort((a, b) => b.name.localeCompare(a.name)); // ç®€å•æŒ‰åç§°é™åº

                listDiv.innerHTML = htmlFiles.map(f => `
                    <div class="report-link" onclick="document.getElementById('viewer').src='${f.name}'">
                        ğŸ“ ${f.name}
                    </div>
                `).join('');
                loadingDiv.style.display = 'none';
                
                if (htmlFiles.length > 0) {
                    document.getElementById('viewer').src = htmlFiles[0].name;
                }
            } catch (e) {
                document.getElementById('loading').innerText = 'åŠ è½½å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œæˆ–ä»“åº“æƒé™ã€‚';
            }
        }
        loadReports();
    </script>
</body>
</html>
